UNIASM = ../DEVEL/uniasm

all: $(UNIASM) \
    DEMO1.CMD IRQTEST.CMD DEMO2.CMD DEMO3.CMD \
    MICROBASIC.CMD MICROBASICPLUS.CMD RAMCHK.CMD \
    DEMO4.CMD RAMPAGECHK.CMD DEMO6.CMD \
    SDTEST.CMD SPITEST.CMD \
    VPUDMATEST.CMD VIDEODRV.CMD VIDEOMODES.CMD \
    PSGDEMO.CMD RAMTEST.CMD CHIPTUNE.CMD ymstreamer \
    DEMO8.CMD

$(UNIASM):
	make -C $(shell dirname $(UNIASM)) $(shell basename $(UNIASM))

.SUFFIXES: .ASM .CMD

.ASM.CMD: ../DEVMAP.INC ../BOOTROM.INC
	$(UNIASM) $< $(basename $@) $@

clean:
	rm -f *.LST *.CMD ymstreamer
